# Facade Design Pattern in Vim9script

## Overview

The **Facade Pattern** is a structural design pattern that provides a simplified interface to a complex subsystem. It hides internal complexity and exposes a single entry point for common tasks.

## Intent

- Provide a unified, high-level interface to a subsystem
- Reduce coupling between clients and complex components
- Make a subsystem easier to use
- Encapsulate orchestration logic

## Also Known As

- Wrapper

## When to Use

Use the Facade pattern when:
- A subsystem is complex and difficult to use directly
- You want to expose only a subset of features
- You want to reduce dependencies on internal classes
- You want to simplify common workflows

## Structure

```
Client -> Facade -> Subsystem Classes
```

## Participants

1. **Facade**: Simplified interface (`BackupFacade`, `MediaPlayerFacade`)
2. **Subsystem Classes**: Perform the real work (`FileScanner`, `Compressor`)
3. **Client**: Uses the facade

## Implementation in Vim9script

The example uses Vim9 classes, interfaces, enums, and type aliases:

```vim
class BackupFacade
  def RunBackup(root: string, destination: string, mode: BackupMode): list<string>
endclass
```

## Examples Included

### 1. Backup Subsystem Facade
**Scenario**: A backup pipeline is simplified to a single method call.

**Components**:
- Facade: `BackupFacade`
- Subsystem: `FileScanner`, `Compressor`, `Encryptor`, `TransferClient`

**Usage**:
```vim
var facade = BackupFacade.new()
var report = facade.RunBackup('~/project', 's3://bucket', BackupMode.Full)
```

### 2. Media Playback Facade
**Scenario**: Playback steps are wrapped behind a single media player interface.

**Components**:
- Facade: `MediaPlayerFacade`
- Subsystem: `Decoder`, `Renderer`, `OutputDevice`

**Usage**:
```vim
var player: IPlayer = MediaPlayerFacade.new()
player.Load('theme.mp3')
```

## Running the Examples

### Source the file
```vim
:source structural-patterns/facade/facade_pattern.vim
```

### Run the complete demo
```vim
:call g:RunFacadePatternDemo()
```

## Key Concepts Demonstrated

1. **Simplified Interface** for complex workflows
2. **Subsystem Encapsulation** behind a facade
3. **Reduced Coupling** between client and subsystem
4. **Modern Vim9 Features** like enums and interfaces

## Advantages

1. **Ease of Use**: One entry point for common operations
2. **Lower Coupling**: Clients depend on the facade, not internals
3. **Clear Organization**: Orchestration logic is centralized
4. **Safer API**: Hide unstable or complex subsystem details

## Disadvantages

1. **Over-Simplification**: May hide advanced features
2. **Single Point of Change**: Facade can become too large

## Related Patterns

- **Adapter**: Changes an interface
- **Decorator**: Adds responsibilities dynamically
- **Bridge**: Separates abstraction from implementation

## Vim9script Notes

- Facade keeps subsystems private and orchestrated
- Interfaces help keep client dependencies minimal
- Enums show configuration options cleanly

## Requirements

- Vim 9.0 or later (for Vim9script class support)
- No external dependencies

## License

MIT License - Feel free to use this for learning and teaching design patterns!

## Credits

These design pattern examples were generated by GitHub Copilot to demonstrate modern Vim9script capabilities and software design principles.

## References

For more information about the Facade pattern, visit:

- **Refactoring.Guru**: [Facade Pattern](https://refactoring.guru/design-patterns/facade)
- **Gang of Four Book**: "Design Patterns: Elements of Reusable Object-Oriented Software" by Gamma, Helm, Johnson, Vlissides - Pages 185-193
- **Wikipedia**: [Facade Pattern](https://en.wikipedia.org/wiki/Facade_pattern)
- **SourceMaking**: [Facade Design Pattern](https://sourcemaking.com/design_patterns/facade)

## Conclusion

The Facade pattern provides a clean, easy-to-use interface for complex subsystems. This Vim9script example demonstrates how a facade can coordinate multiple classes while keeping clients simple.
