# Template Method Design Pattern in Vim9script

## Overview

The **Template Method Pattern** is a behavioral design pattern that defines the skeleton of an algorithm in a base class while allowing subclasses to override specific steps.

## Intent

- Define a fixed algorithm structure
- Allow subclasses to customize steps
- Promote code reuse for shared logic

## Also Known As

- Skeleton

## When to Use

Use the Template Method pattern when:
- You want to keep an algorithmâ€™s structure consistent
- Steps vary across implementations
- You want to avoid duplicated logic

## Structure

```
AbstractClass -> ConcreteClass
```

## Participants

1. **Abstract Class**: Defines template (`ReportTemplate`)
2. **Concrete Class**: Implements steps (`SalesReport`, `InventoryReport`)
3. **Client**: Calls template method

## Implementation in Vim9script

The example uses Vim9 classes, interfaces, enums, type aliases, and abstract classes:

```vim
abstract class ReportTemplate
  def Generate(output: list<string>): void
endclass
```

## Examples Included

### 1. Report Generation
**Scenario**: Generate reports with different data sections.

**Components**:
- Template: `ReportTemplate`
- Reports: `SalesReport`, `InventoryReport`

**Usage**:
```vim
var report = SalesReport.new()
report.Generate([])
```

## Running the Examples

### Source the file
```vim
:source behavioral-patterns/template-method/template_method_pattern.vim
```

### Run the complete demo
```vim
:call g:RunTemplateMethodDemo()
```

## Key Concepts Demonstrated

1. **Fixed Algorithm Structure** in the template
2. **Overridable Steps** implemented by subclasses
3. **Code Reuse** of common behavior

## Advantages

1. **Consistency**: Algorithm flow is fixed
2. **Reuse**: Shared logic stays in base class
3. **Extensibility**: New subclasses plug in easily

## Disadvantages

1. **Inheritance Dependence**: Relies on class hierarchy
2. **Inflexible Structure**: Hard to change algorithm steps

## Related Patterns

- **Strategy**: Swaps algorithms at runtime
- **Factory Method**: Often used in template methods
- **Observer**: Different intent but related in extensibility

## Vim9script Notes

- Abstract class enforces required steps
- Interfaces allow uniform handling of reports
- Enums can represent report kinds

## Requirements

- Vim 9.0 or later (for Vim9script class support)
- No external dependencies

## License

MIT License - Feel free to use this for learning and teaching design patterns!

## Credits

These design pattern examples were generated by GitHub Copilot to demonstrate modern Vim9script capabilities and software design principles.

## References

For more information about the Template Method pattern, visit:

- **Refactoring.Guru**: [Template Method Pattern](https://refactoring.guru/design-patterns/template-method)
- **Gang of Four Book**: "Design Patterns: Elements of Reusable Object-Oriented Software" by Gamma, Helm, Johnson, Vlissides - Pages 325-330
- **Wikipedia**: [Template Method Pattern](https://en.wikipedia.org/wiki/Template_method_pattern)
- **SourceMaking**: [Template Method Design Pattern](https://sourcemaking.com/design_patterns/template_method)

## Conclusion

The Template Method pattern provides a reusable algorithm skeleton with customizable steps. This Vim9script example demonstrates report generation using modern language features.
